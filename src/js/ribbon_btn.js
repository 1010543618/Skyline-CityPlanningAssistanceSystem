/**
按钮名：{
  类型 btn_type: 
    默认 imm(immediatly) 直接执行
    可选 toggle 开关
    可选 toggle_group_work_area 工作区开关组（点击已选择的可取消选择）
    可选 toggle_group_pattern 模式开关组
    可选 toggle_group_nav 导航开关组
    可选 toggle_group_round 环绕开关组（点击已选择的可取消选择）
    可选 toggle_group_show 显示开关组
    可选 toggle_group_mark 标注开关组
  代号code: 
  参数para: 
}
*/
export default {
  "selectObj": {
    "exec": {
      "code": "1021",
      "para": "0"
    },
    "btn_type": "toggle_group_work_area"
  },
  "execute(1022,0)": {
    "exec": {
      "code": "1022",
      "para": "0"
    },
    "btn_type": "imm"
  },
  "information": {
    "exec": {
      "code": "1023",
      "para": "0"
    },
    "btn_type": "toggle"
  },
  "areaSelection": {
    "exec": {
      "code": "1024",
      "para": "0"
    },
    "btn_type": "toggle_group_work_area"
  },
  "timeSlider": {
    "exec": {
      "code": "1065",
      "para": "4"
    },
    "btn_type": "toggle"
  },
  "sun": {
    "exec": {
      "code": "1026",
      "para": "0"
    },
    "btn_type": "toggle"
  },
  "shadow": {
    "exec": {
      "code": "2118",
      "para": "0"
    },
    "btn_type": "toggle"
  },
  "undergroundMode": {
    "exec": {
      "code": "1027",
      "para": "0"
    },
    "btn_type": "toggle"
  },
  "execute(1013,8)": {
    "exec": {
      "code": "1013",
      "para": "8"
    },
    "btn_type": "imm"
  },
  "execute(1014,2)": {
    "exec": {
      "code": "1014",
      "para": "2"
    },
    "btn_type": "imm"
  },
  "execute(1016,0)": {
    "exec": {
      "code": "1016",
      "para": "0"
    },
    "btn_type": "imm"
  },
  "execute(1017,0)": {
    "exec": {
      "code": "1017",
      "para": "0"
    }
  },
  "execute(1018,0)": {
    "exec": {
      "code": "1018",
      "para": "0"
    },
    "btn_type": "imm"
  },
  "paste": {
    "exec": {
      "code": "1030",
      "para": "0"
    },
    "btn_type": "imm"
  },
  "execute(1031,0)": {
    "exec": {
      "code": "1031",
      "para": "0"
    },
    "btn_type": "imm"
  },
  "execute(1032,0)": {
    "exec": {
      "code": "1032",
      "para": "0"
    },
    "btn_type": "imm"
  },
  "execute(1033,0)": {
    "exec": {
      "code": "1033",
      "para": "0"
    },
    "btn_type": "imm"
  },
  "HorizontalMeasure": {
    "exec": {
      "code": "1034",
      "para": "0"
    },
    "btn_type": "toggle_group_work_area"
  },
  "spaceMeasure": {
    "exec": {
      "code": "1035",
      "para": "0"
    },
    "btn_type": "toggle_group_work_area"
  },
  "verticalDistance": {
    "exec": {
      "code": "1036",
      "para": "0"
    },
    "btn_type": "toggle_group_work_area"
  },
  "terrainArea": {
    "exec": {
      "code": "1165",
      "para": "0"
    },
    "btn_type": "toggle_group_work_area"
  },
  "threeDArea": {
    "exec": {
      "code": "1037",
      "para": "0"
    },
    "btn_type": "toggle_group_work_area"
  },
  "ContourMap": {
    "exec": {
      "code": "createContourMap()",
      "para": ""
    },
    "btn_type": "imm"
  },
  "SlopeAnalysis()": {
    "exec": {
      "code": "SlopeAnalysis()",
      "para": ""
    },
    "btn_type": "imm"
  },
  "execute(1042,0)": {
    "exec": {
      "code": "1042",
      "para": "0"
    },
    "btn_type": "imm"
  },
  "execute(1043,0)": {
    "exec": {
      "code": "1043",
      "para": "0"
    },
    "btn_type": "imm"
  },
  "execute(1044,0)": {
    "exec": {
      "code": "1044",
      "para": "0"
    },
    "btn_type": "imm"
  },
  "execute(1046,0)": {
    "exec": {
      "code": "1046",
      "para": "0"
    },
    "btn_type": "imm"
  },
  "execute(2117,0)": {
    "exec": {
      "code": "2117",
      "para": "0"
    },
    "btn_type": "imm"
  },
  "execute(1047,0)": {
    "exec": {
      "code": "1047",
      "para": "0"
    },
    "btn_type": "imm"
  },
  "collision": {
    "exec": {
      "code": "1140",
      "para": "0"
    },
    "btn_type": "toggle"
  },
  "dragMode": {
    "exec": {
      "code": "1049",
      "para": "0"
    },
    "btn_type": "toggle_group_nav"
  },
  "Slide": {
    "exec": {
      "code": "1050",
      "para": "0"
    },
    "btn_type": "toggle_group_nav"
  },
  "turn": {
    "exec": {
      "code": "1051",
      "para": "0"
    },
    "btn_type": "toggle_group_nav"
  },
  "threeDMode": {
    "exec": {
      "code": "1052",
      "para": "0"
    },
    "btn_type": "toggle_group_pattern"
  },
  "twoDMode": {
    "exec": {
      "code": "1053",
      "para": "0"
    },
    "btn_type": "toggle_group_pattern"
  },
  "northMode": {
    "exec": {
      "code": "1054",
      "para": "0"
    },
    "btn_type": "toggle_group_pattern"
  },
  "zoomBtn()": {
    "exec": {
      "code": "zoomBtn()",
      "para": ""
    },
    "btn_type": "imm"
  },
  "execute(1056,0)": {
    "exec": {
      "code": "1056",
      "para": "0"
    },
    "btn_type": "imm"
  },
  "rotate": {
    "exec": {
      "code": "1057",
      "para": "0"
    },
    "btn_type": "toggle_group_round"
  },
  "OvalRotate": {
    "exec": {
      "code": "1057",
      "para": "1"
    },
    "btn_type": "toggle_group_round"
  },
  "ArcPattern": {
    "exec": {
      "code": "1057",
      "para": "2"
    },
    "btn_type": "toggle_group_round"
  },
  "LinePattern": {
    "exec": {
      "code": "1057",
      "para": "3"
    },
    "btn_type": "toggle_group_round"
  },
  "execute(1057,4)": {
    "exec": {
      "code": "1057",
      "para": "4"
    },
    "btn_type": "imm"
  },
  "execute(1057,5)": {
    "exec": {
      "code": "1057",
      "para": "5"
    },
    "btn_type": "imm"
  },
  "execute(1057,6)": {
    "exec": {
      "code": "1057",
      "para": "6"
    },
    "btn_type": "imm"
  },
  "execute(1057,7)": {
    "exec": {
      "code": "1057",
      "para": "7"
    },
    "btn_type": "imm"
  },
  "execute(1057,8)": {
    "exec": {
      "code": "1057",
      "para": "8"
    },
    "btn_type": "imm"
  },
  "execute(1057,9)": {
    "exec": {
      "code": "1057",
      "para": "9"
    },
    "btn_type": "imm"
  },
  "execute(1057,10)": {
    "exec": {
      "code": "1057",
      "para": "10"
    },
    "btn_type": "imm"
  },
  "execute(1057,11)": {
    "exec": {
      "code": "1057",
      "para": "11"
    },
    "btn_type": "imm"
  },
  "zoomIn()": {
    "exec": function(){
      SGWorld.Navigate.ZoomIn()
    },
    "btn_type": "imm"
  },
  "zoomOut()": {
    "exec": {
      "code": function(){
        SGWorld.Navigate.ZoomOut()
      },
      "para": ""
    },
    "btn_type": "imm"
  },
  "FullImage()": {
    "exec": {
      "code": function(){
        var id = SGWorld.ProjectTree.FindItem("全图")
        SGWorld.Navigate.FlyTo(id,0)
      },
      "para": ""
    },
    "btn_type": "imm"
  },
  "zoomIn2DMap()": {
    "exec": {
      "code": "zoomIn2DMap()",
      "para": ""
    },
    "btn_type": "toggle"
  },
  "NavigationCtl": {
    "exec": {
      "code": "1065",
      "para": "0"
    },
    "btn_type": "toggle"
  },
  "CenterSign": {
    "exec": {
      "code": "1065",
      "para": "1"
    },
    "btn_type": "toggle"
  },
  "StatusBar": {
    "exec": {
      "code": "1065",
      "para": "2"
    },
    "btn_type": "toggle"
  },
  "ScaleBar": {
    "exec": {
      "code": "1065",
      "para": "3"
    },
    "btn_type": "toggle"
  },
  "GraphicHUD": {
    "exec": {
      "code": "1065",
      "para": "5"
    },
    "btn_type": "toggle"
  },
  "execute(1012,0)": {
    "exec": {
      "code": "1012",
      "para": "0"
    },
    "btn_type": "toggle_group_work_area"
  },
  "execute(1012,1)": {
    "exec": {
      "code": "1012",
      "para": "1"
    },
    "btn_type": "toggle_group_work_area"
  },
  "execute(1012,4)": {
    "exec": {
      "code": "1012",
      "para": "4"
    },
    "btn_type": "toggle_group_work_area"
  },
  "execute(1012,5)": {
    "exec": {
      "code": "1012",
      "para": "5"
    },
    "btn_type": "toggle_group_work_area"
  },
  "execute(1012,6)": {
    "exec": {
      "code": "1012",
      "para": "6"
    },
    "btn_type": "toggle_group_work_area"
  },
  "execute(1012,7)": {
    "exec": {
      "code": "1012",
      "para": "7"
    },
    "btn_type": "toggle_group_work_area"
  },
  "execute(1012,9)": {
    "exec": {
      "code": "1012",
      "para": "9"
    },
    "btn_type": "toggle_group_work_area"
  },
  "execute(1012,10)": {
    "exec": {
      "code": "1012",
      "para": "10"
    },
    "btn_type": "toggle_group_work_area"
  },
  "execute(1012,11)": {
    "exec": {
      "code": "1012",
      "para": "11"
    },
    "btn_type": "toggle_group_work_area"
  },
  "execute(1012,8)": {
    "exec": {
      "code": "1012",
      "para": "8"
    },
    "btn_type": "toggle_group_work_area"
  },
  "execute(1012,13)": {
    "exec": {
      "code": "1012",
      "para": "13"
    },
    "btn_type": "toggle_group_work_area"
  },
  "execute(1012,14)": {
    "exec": {
      "code": "1012",
      "para": "14"
    },
    "btn_type": "toggle_group_work_area"
  },
  "execute(1012,21)": {
    "exec": {
      "code": "1012",
      "para": "21"
    },
    "btn_type": "toggle_group_work_area"
  },
  "execute(1012,24)": {
    "exec": {
      "code": "1012",
      "para": "24"
    },
    "btn_type": "toggle_group_work_area"
  },
  "execute(1012,20)": {
    "exec": {
      "code": "1012",
      "para": "20"
    },
    "btn_type": "toggle_group_work_area"
  },
  "execute(1012,26)": {
    "exec": {
      "code": "1012",
      "para": "26"
    },
    "btn_type": "toggle_group_work_area"
  },
  "execute(1012,27)": {
    "exec": {
      "code": "1012",
      "para": "27"
    },
    "btn_type": "toggle_group_work_area"
  },
  "execute(1086,0)": {
    "exec": {
      "code": "1086",
      "para": "0"
    },
    "btn_type": "imm"
  },
  "selectLayerF": {
    "exec": {
      "code": "1070",
      "para": "0"
    },
    "btn_type": "toggle_group_work_area"
  },
  "aeraSelectF": {
    "exec": {
      "code": "1071",
      "para": "0"
    },
    "btn_type": "toggle_group_work_area"
  },
  "lineSelect": {
    "exec": {
      "code": "1072",
      "para": "0"
    },
    "btn_type": "toggle_group_work_area"
  },
  "pointSelect": {
    "exec": {
      "code": "1073",
      "para": "0"
    },
    "btn_type": "toggle_group_work_area"
  },
  "ObjSelect": {
    "exec": {
      "code": "1156",
      "para": "0"
    },
    "btn_type": "toggle_group_work_area"
  },
  "createPresentation()": {
    "exec": function(){
      var itemId = SGWorld.ProjectTree.FindItem("演示工具");
      if (itemId == "") {
          itemId = SGWorld.ProjectTree.CreateGroup("演示工具");
      }
      var name = "演示工具#" + (Math.ceil(Math.random() * 100000));
      SGWorld.Creator.CreatePresentation(itemId, name);
      var Id = SGWorld.ProjectTree.FindItem("演示工具\\" + name);
      if (Id != "") {
          SGWorld.ProjectTree.SelectItem(Id);
      }
    },
    "btn_type": "imm"
  },
  "Presentation(1099,0)": {
    "exec": {
      "code": "1099",
      "para": "0"
    },
    "btn_type": "toggle_group_work_area"
  },
  "Presentation(1101,0,this)": {
    "exec": {
      "code": "1101",
      "para": "0"
    },
    "btn_type": "toggle"
  },
  "Presentation(1102,0)": {
    "exec": {
      "code": "1102",
      "para": "0"
    },
    "btn_type": "imm"
  },
  "Presentation(1111,0)": {
    "exec": {
      "code": "1111",
      "para": "0"
    },
    "btn_type": "imm"
  },
  "Presentation(1112,0)": {
    "exec": {
      "code": "1112",
      "para": "0"
    },
    "btn_type": "imm"
  },
  "Presentation(1116,0)": {
    "exec": {
      "code": "1116",
      "para": "0"
    },
    "btn_type": "imm"
  },
  "execute(1067,0)": {
    "exec": {
      "code": "1067",
      "para": "0"
    },
    "btn_type": "imm"
  },
  "excavation()": {
    "exec": {
      "code": "excavation()",
      "para": ""
    },
    "btn_type": "toggle_group_work_area"
  },
  "showAllObj()": {
    "exec": {
      "code": "showAllObj()",
      "para": ""
    },
    "btn_type": "toggle_group_show"
  },
  "hiddenAllObj()": {
    "exec": {
      "code": "hiddenAllObj()",
      "para": ""
    },
    "btn_type": "toggle_group_show"
  },
  "showPipeline()": {
    "exec": {
      "code": "showPipeline()",
      "para": ""
    },
    "btn_type": "toggle_group_show"
  },
  "heightLabel": {
    "exec": {
      "code": "heightMark()",
      "para": ""
    },
    "btn_type": "toggle_group_mark"
  },
  "coordLabel": {
    "exec": {
      "code": "coordLabel()",
      "para": ""
    },
    "btn_type": "toggle_group_mark"
  },
  "SlopeLable": {
    "exec": {
      "code": "SlopeLable()",
      "para": ""
    },
    "btn_type": "toggle_group_mark"
  },
  "clearLabel()": {
    "exec": {
      "code": "clearLabel()",
      "para": ""
    },
    "btn_type": "imm"
  },
  "execute(1038,0)": {
    "exec": {
      "code": "1038",
      "para": "0"
    },
    "btn_type": "imm"
  },
  "execute(1039,0)": {
    "exec": {
      "code": "1039",
      "para": "0"
    },
    "btn_type": "imm"
  },
  "execute(1040,0)": {
    "exec": {
      "code": "1040",
      "para": "0"
    },
    "btn_type": "imm"
  },
  "execute(1041,0)": {
    "exec": {
      "code": "1041",
      "para": "0"
    },
    "btn_type": "imm"
  },
  "execute(1092,0)": {
    "exec": {
      "code": "1092",
      "para": "0"
    },
    "btn_type": "imm"
  },
  "execute(1093,0)": {
    "exec": {
      "code": "1093",
      "para": "0"
    },
    "btn_type": "imm"
  },
  "execute(1094,0)": {
    "exec": {
      "code": "1094",
      "para": "0"
    },
    "btn_type": "imm"
  },
  "execute(1098,0)": {
    "exec": {
      "code": "1098",
      "para": "0"
    },
    "btn_type": "imm"
  },
  "execute(1055,5)": {
    "exec": {
      "code": "1055",
      "para": "5"
    },
    "btn_type": "imm"
  },
  "execute(1055,4)": {
    "exec": {
      "code": "1055",
      "para": "4"
    },
    "btn_type": "imm"
  },
  "execute(1055,3)": {
    "exec": {
      "code": "1055",
      "para": "3"
    },
    "btn_type": "imm"
  },
  "execute(1055,2)": {
    "exec": {
      "code": "1055",
      "para": "2"
    },
    "btn_type": "imm"
  },
  "execute(1055,1)": {
    "exec": {
      "code": "1055",
      "para": "1"
    },
    "btn_type": "imm"
  },
  "execute(1055,0)": {
    "exec": {
      "code": "1055",
      "para": "0"
    },
    "btn_type": "imm"
  },
  "comparison": {
    "exec": function(){
      window.open('./index.html?type=compare');

      window.open(encodeURI('./s3dws.html?title=方案一'));
      window.open(encodeURI('./s3dws.html?title=方案二'));
      window.open(encodeURI('./s3dws.html?title=方案三'));
      
      // 非常重要！不然打开的页面无法加载地图
      window.opener=null;
      window.open('','_self');
      window.close()
    },
    "btn_type": "imm"
  },
  "prosync": {
    "exec": function(){

    },
    "btn_type": "toggle"
  },
  "show_monitor": {
    "exec": function(){
      if(!this.selected){
        window.MONITOR = [];
        // 选择组
        var ms = SGWorld.ProjectTree.FindItem("监控");
        // 选监控
        var node = SGWorld.ProjectTree.GetNextItem(ms, 11);
        // 临时组
        var temp_g = SGWorld.ProjectTree.FindItem("监控temp") ? 
          SGWorld.ProjectTree.FindItem("监控temp") :
          SGWorld.ProjectTree.CreateGroup("监控temp");
        while (node){
            window.MONITOR.push(node);
            var object = SGWorld.ProjectTree.GetObject(node);
            console.log(object.Terrain.BBox.MaxX, object.Terrain.BBox.MinX);
            var x = (object.Terrain.BBox.MaxX + object.Terrain.BBox.MinX)/2
            var y = (object.Terrain.BBox.MaxY + object.Terrain.BBox.MinY)/2
            var circle = SGWorld.Creator.CreateCircle(
              SGWorld.Creator.CreatePosition(x, y ,5),  // Pivot
              5.0,                                                     // Radius (1000m)
              SGWorld.Creator.CreateColor(0, 0, 0, 0),                    // Outline color (in this sample, transparent/no outline)
              SGWorld.Creator.CreateColor(255, 0, 0, 128),               // Fill color
              temp_g
            );
            // 13 is get next sibling
            node = SGWorld.ProjectTree.GetNextItem(node, 13);
        }
        this.onLButtonDown = function(flags, x, y){
            /*
              var mouseInfo = SGWorld.Window.GetMouseInfo();
              mouseInfo.x, mouseInfo.y和参数x，y一样
            */
            //将平面坐标转换为球面坐标  
            var worldPst = SGWorld.Window.PixelToWorld(x, y, -1);
            var clicked_obj = SGWorld.Creator.GetObject(worldPst.ObjectID)
            var cur = $.inArray(worldPst.ObjectID, window.MONITOR)
            if(clicked_obj && -1 !== cur){
              window.MONITOR.cur = cur;
              $SR.btns['paly_video'](clicked_obj.TreeItem.Name);
            }
            return true; // event was processed by the client. return false to allow additional processing of the event.
        }
        SGWorld.AttachEvent("onLButtonDown", this.onLButtonDown);
      }else{
        // 清除全部视频
        for(var i=0; i<window.MONITOR.length; ++i){
          var o = SGWorld.Creator.GetObject(window.MONITOR[i]);
          SGWorld.Window.RemovePopupByCaption(o.TreeItem.Name);
        }
        
        SGWorld.DetachEvent("onLButtonDown", this.onLButtonDown);
        SGWorld.ProjectTree.DeleteItem(SGWorld.ProjectTree.FindItem("监控temp"));
      }
    },
    "btn_type": "toggle"
  },
  "prev_monitor": {
    "exec": function(){
      var m = window.MONITOR;
      if(0 == m.cur){
        m.cur = m.length-1
      }else{
        (m.cur)--
      }
      
      var clicked_obj = SGWorld.Creator.GetObject(m[m.cur]);
      // 移动摄像机
      SGWorld.Navigate.FlyTo(clicked_obj);
      $SR.btns['paly_video'](clicked_obj.TreeItem.Name);
    },
    "btn_type": "imm"
  },
  "next_monitor": {
    "exec": function(){
      var m = window.MONITOR;
      if(m.length-1 == m.cur){
        m.cur = 0;
      }else{
        (m.cur)++
      }
      
      var clicked_obj = SGWorld.Creator.GetObject(m[m.cur]);
      // 移动摄像机
      SGWorld.Navigate.FlyTo(clicked_obj);
      $SR.btns['paly_video'](clicked_obj.TreeItem.Name);
    },
    "btn_type": "imm"
  },
  "show_rl": {
    "exec": function(){
      var groupID = SGWorld.ProjectTree.FindItem("红线");  
      SGWorld.ProjectTree.SetVisibility(groupID, !this.selected);
    },
    "btn_type": "toggle"
  },
  "rl_ana": {
    "exec": function(){
      // 选择组
      var groupID = SGWorld.ProjectTree.FindItem("红线");  
      // 选红线
      var node = SGWorld.ProjectTree.GetNextItem(groupID, 11);
      if(!this.selected){
        while (node){
            // 修改透明度为100
            var object = SGWorld.ProjectTree.GetObject(node);
            object.FillStyle.Color.SetAlpha(100)
            // 13 is get next sibling
            node = SGWorld.ProjectTree.GetNextItem(node, 13);
        }
      }else{
        while (node){
            // 修改透明度为0
            var object = SGWorld.ProjectTree.GetObject(node);
            object.FillStyle.Color.SetAlpha(0)
            // 13 is get next sibling
            node = SGWorld.ProjectTree.GetNextItem(node, 13);
        }
      }
    },
    "btn_type": "toggle"
  },
  paly_video: function(name){
    // 这里关闭有bug
    // SGWorld.Window.RemovePopupByCaption(window.MONITOR.cap);
    // window.MONITOR.cap = name;
    // setTimeout(function(){
    //   var name = window.MONITOR.cap
    //  var popup = SGWorld.Window.GetPopupByCaption(window.MONITOR.cap) || SGWorld.Creator.CreatePopupMessage(name, "", 0, 0);
      var popup = SGWorld.Creator.CreatePopupMessage(name, "", 0, -100, 550, 400);
      popup.Align = "right";
      /*popup.InnerHTML = '<video src="./security_video/'+name+'.mp4" controls="controls">'+
        '您的浏览器不支持 video 标签。'+
        '</video>';*/
      popup.InnerHTML = '<video width="100%" height="100%" src="http://localhost:8848/security_video/'+name+'.mp4" autoplay="autoplay">'+
        '您的浏览器不支持 video 标签。'+
        '</video>';
      SGWorld.Window.ShowPopup(popup);
    // }, 2000)
  },

    
}